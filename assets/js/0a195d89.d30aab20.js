"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[8835],{95155:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>n,metadata:()=>r,toc:()=>h});var i=a(85893),s=a(11151);const n={title:"Optimizing Load Time",sidebar_position:7},o=void 0,r={id:"user-manual/optimization/load-time",title:"Optimizing Load Time",description:"Optimizing isn't just related to improving frame rate. Fast load times are also critical. The faster your app loads, the more likely your users will stick around to experience it. Aim to have your app load in less than 5 seconds to prevent users from churning.",source:"@site/docs/user-manual/optimization/load-time.md",sourceDirName:"user-manual/optimization",slug:"/user-manual/optimization/load-time",permalink:"/user-manual/optimization/load-time",draft:!1,unlisted:!1,editUrl:"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/optimization/load-time.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Optimizing Load Time",sidebar_position:7},sidebar:"userManualSidebar",previous:{title:"Device Pixel Ratio",permalink:"/user-manual/optimization/runtime-devicepixelratio"},next:{title:"Optimize Scene Format",permalink:"/user-manual/optimization/optimizing-scene-format"}},l={},h=[{value:"Loading sequence best practices",id:"loading-sequence-best-practices",level:2},{value:"Further improvements",id:"further-improvements",level:3}];function d(e){const t={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Optimizing isn't just related to improving frame rate. Fast load times are also critical. The faster your app loads, the more likely your users will stick around to experience it. Aim to have your app load in less than 5 seconds to prevent users from churning."}),"\n",(0,i.jsx)(t.p,{children:"Here are some tips to achieve super-fast load times:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["In general, AVIF images produce smaller files than WebP, JPG, or PNG for the same image quality. It also supports an alpha channel like WebP and PNG. However ",(0,i.jsx)(t.a,{href:"https://caniuse.com/avif",children:"not all browsers currently support AVIF"})," so use it where it makes sense for your project. If you can't use AVIF, ",(0,i.jsx)(t.a,{href:"https://caniuse.com/webp",children:"WebP has much wider support"})," and produces smaller files than JPEG or PNG with similar quality, but we encourage you to test with different formats."]}),"\n",(0,i.jsx)(t.li,{children:"Look for opportunities to downsample certain texture images. For example, a 2048x2048 texture that is used on a small graphical object may look almost exactly the same at 1024x1024 or even 512x512."}),"\n",(0,i.jsx)(t.li,{children:"Don't preload assets which can be loaded asynchronously. For example, it may not be necessary for your game music to play immediately at game start, so consider unchecking the Preload option for that asset in the Inspector panel."}),"\n",(0,i.jsx)(t.li,{children:"If you have a prefiltered cubemap and are not displaying the top-level mipmap for the skybox, you can uncheck preload for all the 6 face images."}),"\n",(0,i.jsxs)(t.li,{children:["If you are not instantiating Templates at runtime, uncheck preload on the asset as they aren't needed. (See '",(0,i.jsx)(t.a,{href:"/user-manual/templates/#when-do-i-need-to-load-template-assets",children:"When do I need to load Template Assets?"}),"' for more information)."]}),"\n",(0,i.jsx)(t.li,{children:"Ensure that imported models only have the vertex attributes that you need. For example, if your model has a second set of UVs but doesn't use them or if it has all-white vertex colors, go back to the modeling application and delete those attributes."}),"\n",(0,i.jsx)(t.li,{children:"Use the Networking panel in Chrome Dev Tools (or the equivalent in other browsers) to sort loaded assets by size and look for anything that stands out. Look for assets that are not used and could be deleted. Look for assets that are essentially duplicates and delete them."}),"\n",(0,i.jsx)(t.li,{children:"Using PlayCanvas' built-in physics engine incurs an additional download cost of 379KB. If you are using the physics engine to solve very simple problems, consider rolling an alternative solution that doesn't incur the download penalty."}),"\n",(0,i.jsx)(t.li,{children:"If you self-host your PlayCanvas app, be sure to configure your web server to serve files with GZIP compression. In particular, JSON and JS files."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"loading-sequence-best-practices",children:"Loading sequence best practices"}),"\n",(0,i.jsx)(t.p,{children:"Beyond the above guidelines, it's possible to retain users by spacing the loading in multiple stages while giving the users something new to interact with or watch."}),"\n",(0,i.jsxs)(t.p,{children:["Using ",(0,i.jsx)(t.a,{href:"https://playcanv.as/p/tRUfwVg1/",children:"Virtual Voodoo"})," as an example, we can show the 'typical' sequence that most applications will use for browser experiences."]}),"\n",(0,i.jsx)(t.p,{children:"The game has 3 phases:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Preloader"}),"\n",(0,i.jsx)(t.li,{children:"Title Screen and Character Customization"}),"\n",(0,i.jsx)(t.li,{children:"Main Game"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"/images/user-manual/optimization/loading/virtual-voodoo-phases.jpg",alt:"Virtual Voodoo Phases"})}),"\n",(0,i.jsx)(t.p,{children:"The Preloader phase loads the assets that are needed for the first PlayCanvas scene which is the Title Screen and Character Customization. This would include assets for the UI, character model and assets."}),"\n",(0,i.jsx)(t.p,{children:"When the Title Screen is active, the game starts background loading the assets that are needed for the Main Game. During the transition to the Title Screen and possible interaction with the character customization, by the time the user presses the start button, the assets for the Main Game may have already finished loading."}),"\n",(0,i.jsx)(t.p,{children:"However, if the user presses the start button before the assets have finished loading, a progress bar will appear on the button instead. Once it reaches 100%, the game will automatically transition to the Main Game."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"/images/user-manual/optimization/loading/virtual-voodoo-assets-not-ready.gif",alt:"Virtual Voodoo Assets Not Ready"})}),"\n",(0,i.jsx)(t.p,{children:"With the assets being loaded in phases and giving something new for the user to interact with and/or look at periodically, the user stays engaged despite a long loading time."}),"\n",(0,i.jsx)(t.h3,{id:"further-improvements",children:"Further improvements"}),"\n",(0,i.jsx)(t.p,{children:"Some developers will go as far as to reduce the Preloader phase to only load the bare minimum and add an 'in-application' loading screen that allows the developer to populate with application related assets and text, use animation, etc. This engages the user as they are seeing something that is directly related to the application."}),"\n",(0,i.jsx)(t.p,{children:"If the game allows, using common placeholders while the more detailed assets are loading can get the user interacting with the application sooner."}),"\n",(0,i.jsx)(t.p,{children:"An example below is using a silhouette of a character as the placeholder until it has fully loaded. The silhouette placeholder is small in file size so it can be part of a preload sequence and also can be reused for other characters in the application."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"/images/user-manual/optimization/loading/character-load.gif",alt:"Lazy Load Character"})})]})}function c(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,t,a)=>{a.d(t,{Z:()=>r,a:()=>o});var i=a(67294);const s={},n=i.createContext(s);function o(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);