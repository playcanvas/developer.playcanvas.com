---
title: Particle System
---

Particle Systemコンポーネントは、3D空間内でパーティクルエミッターを指定します。

Particle Systemコンポーネントは、コンポーネントパネルの右上にあるトグルを使用して有効化または無効化できます。有効にすると、パーティクルシステムはシーンに追加されてレンダリングされます。

![Particle System component](/img/user-manual/scenes/components/component-particle-system.png)

## Properties

| プロパティ名        | 説明 |
|-----------------|-------------|
| 自動再生 (Auto Play)       | チェックを入れると、パーティクルシステムは生成時にすぐに再生されます。このオプションをオフにした場合、スクリプトからParticleSystemコンポーネントの再生関数を呼び出す必要があります。 |
| Particle Count  | このパーティクルシステムで管理されるパーティクルの最大数です。 |
| Lifetime        | パーティクルの誕生から死亡までの時間の長さ(秒単位)。 |
| Emission Rate   | パーティクル誕生間隔を定義する時間範囲の下限です。次のパーティクル放出の時間は、[Emission Rate]と[Emission rate 2]の間でランダムに選択されます。 |
| Emission Rate2  | パーティクル誕生間隔を定義する時間範囲の上限です。次のパーティクル放出の時間は、[Emission Rate]と[Emission rate 2]の間でランダムに選択されます。 |
| Start Angle     | 初期のパーティクル回転角度[Start Angle]と[Start Angle 2]の範囲内の下限の角度で指定されます。各パーティクルについて、この角度は、間でランダムに選択されます。[Start Angle]と[Start Angle 2]の間にあります。 |
| Start Angle2    | 初期のパーティクル回転角度[Start Angle]と[Start Angle 2]の範囲内の上限の角度で指定されます。各パーティクルについて、この角度は、間でランダムに選択されます。[Start Angle]と[Start Angle 2]の間にあります。 |
| ループ (Loop)            | チェックされている場合、パーティクルシステムは無限に放出されます。それ以外の場合は、指定された[Particle Count]プロパティでパーティクルが放出された後に停止します。 |
| Pre Warm        | 有効にすると、パーティクルシステムは、すでに完全なサイクルを完了したものとして初期化されます。このオプションは、ループするパーティクルシステムにのみ使用できます。 |
| ライティング        | チェックすると、パーティクルがシーン内の方向光および環境光によって照らされます。照明をより現実的にするには、パーティクルシステムに法線マップを設定することが推奨されます。 |
| Half-Lambert    | Half Lambertライティングを有効にすると、ライトが粒子の裏側に向かって照射されているように見えるときに、粒子が平ら過ぎないようになります。これは完全に非物理的なライティングモデルですが、より美しいビジュアル結果を得られます。このオプションは、照明が有効になっている場合にのみ使用できます。 |
| Color Intensity | パーティクルの色を任意の明るさに設定できるようにするためのスケールです。 |
| Depth Test      | チェックされている場合、パーティクルは深度情報を深度バッファに書き込みます。チェックを外すと、深度バッファは変更されず、パーティクルはレンダリングされる順序で互いに上書きされることが保証されます。 |
| Depth Softening | この変数の値は、パーティクルが別の表面に近づくにつれてどの程度フェードアウトするかを決定します。これにより、パーティクルが表面に切り込んでいるように見える状況を回避できます。この値をゼロに設定すると、深度ソフテニングは無効になります。ゼロより大きな値を設定すると、深度比較を行うためにシーンを深度ターゲットにレンダリングする必要があります。これにより、フレームごとに提出される draw コールの合計数が増加し、重大なパフォーマンスの影響が発生する場合があります。 |
| Sorting Mode    | ソーティングモードにより、パーティクルのレンダリング順序を制御できます。オプションは以下の通りです: <ul><li>None:パーティクルは任意の順序でレンダリングされます。このオプションを選択すると、GPUで(基になるハードウェアが浮動小数点テクスチャをサポートしている場合)パーティクルシステムがシミュレートされ、最高のパフォーマンスが得られるようになります。</li><li>Camera Distance:パーティクルはCPUでソートされ、カメラのzの深さに基づいて背面から前面にレンダリングされます。</li><li>Newer First:パーティクルはCPUでソートされ、最新のものが最初にレンダリングされます。</li><li>Older First:パーティクルはCPUでソートされ、最も古いパーティクルが最初にレンダリングされます。</li></ul> |
| Blending Mode   | ブレンディングモードは、パーティクルがフレームバッファに書き込まれるときにどのように合成されるかを決定します。PrgbはパーティクルのピクセルのRGB色、Paはそのアルファ値であり、Drgbは既にフレームバッファにあるRGB色です。以下はブレンディングオプションです: <ul><li>Additive:Prgb + Drgb</li><li>Alpha:Prgb x Pa + Drgb x(1 - Pa)</li><li>Multiply:Prgb * Drgb</li></ul> |
| Stretch         | 世界単位の値で、パーティクルがその速度に基づいてどれだけ伸びるかを制御する値です。パーティクルは中心から前回の位置に向かって伸びます。 |
| Align To Motion | パーティクルを移動方向に向けます。 |
| Spawn Bounds    | パーティクルがランダムな位置で発生するローカルスペースバウンディングボックスのハーフエクステント。 |
| ラップ (Wrap)            | ラップ境界を有効にします。 |
| Wrap Bounds     | オーナーエンティティの位置を中心にした、ワールドスペースのAABBボリューム。パーティクルがボリュームの一方の側の境界を越えた場合、逆側に転送されます。これにより、ラップされたエミッターのオーナーエンティティを移動することで、雨のような環境効果を作成できます。 |
| Color Map       | システム内のすべてのパーティクルに適用するカラーマップテクスチャー。テクスチャーのアセットが割り当てられていない場合、デフォルトのスポットテクスチャーが使用されます。 |
| Normal Map      | システム内の全てのパーティクルに適用する法線マップテクスチャ。法線マップを適用すると、ビルボードパーティクルをシーンの照明とより一致して表示させることができます。 |
| Particle Mesh   | Modelアセット。モデルの最初のメッシュは、フラットなビルボードの代わりに全てのパーティクルを表すために使用されます。 |
| Local Velocity  | A curve defining how each particle's velocity with respect to the particle system's local coordinate system changes over time. If two curves are specified in the curve editor, local velocity will be a random lerp between both curves. |
| Velocity        | 各パーティクルの速度がワールド座標系に関して、時間の経過とともにどのように変化するかを定義する曲線。カーブエディタで二つの曲線が指定されている場合は、速度は両方の曲線の間のランダムなlerpになります。 |
| Rotation Speed  | 時間の経過とともにどのように各パーティクルの角速度が変化するかを定義する曲線。カーブエディタで二つの曲線が指定されている場合、角速度は両方の曲線の間のランダムなlerpになります。 |
| スケール (Scale)           | 各パーティクルのスケールが時間の経過とともにどのように変化するかを定義する曲線。デフォルトでは、パーティクルの幅と高さの単位は1です。カーブエディタで二つの曲線が指定されている場合、スケールは両方の曲線の間のランダムなlerpになります。 |
| Color           | 時間の経過とともに各パーティクルの色がどのように変化するかを定義する曲線。 |
| Lifetime        | 時間の経過とともに各パーティクルの不透明度は、どのように変化するかを定義する曲線。カーブエディタで二つの曲線が指定されている場合、不透明度は両方の曲線の間のランダムなlerpになります。 |

## スクリプトインターフェース

Particle Systemコンポーネントのプロパティは[script component][2]を使用して制御できます。Particle Systemコンポーネントのスクリプティングインターフェイスは[こちら][3]です。

[2]: /user-manual/scenes/components/script
[3]: https://api.playcanvas.com/engine/classes/ParticleSystemComponent.html
